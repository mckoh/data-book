
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Michael Kohlegger" name="author"/>
<link href="https://mckoh.github.io/data-book/tutorials/dbs_choice/" rel="canonical"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.50" name="generator"/>
<title>Passendes Datenbanksystem auswählen - Data Book</title>
<link href="../../assets/stylesheets/main.a40c8224.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="blue-grey" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#passendes-datenbanksystem-auswahlen">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Data Book" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Data Book">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Data Book
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Passendes Datenbanksystem auswählen
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue-grey" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="blue-grey" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--integrated" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Data Book" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Data Book">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4"></path></svg>
</a>
    Data Book
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    Lerninhalte
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../exercises/">
<span class="md-ellipsis">
    Übungsaufgaben
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/">
<span class="md-ellipsis">
    Über
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="passendes-datenbanksystem-auswahlen">Passendes Datenbanksystem auswählen</h1>
<p>Als Data Engineer steht man häufig vor der Entscheidung, welches Datenbanksystem denn nun das richtige für den jeweiligen Use Case sei. Vertraut man auf eine klassische relationale Datenbanksystem, wie z. B. MariaDB, oder entscheidet man sich doch für eine der vielen aufstrebenden Alternativen? Wo liegen die Stärken und Schwächen der einzelnen Systemtypen? In diesem Kapitel möchte ich mich mit diesen Fragen beschäftigen. Wir gehen dazu von einem einfachen Beispiel aus, das ich zunächst beschreiben werde. Anschließend werden wir uns mit den einzelnen Systemtypen beschäftigen und deren Vor- und Nachteile herausarbeiten.</p>
<h2 id="die-herausforderung-wachsen-zu-konnen">Die Herausforderung wachsen zu können</h2>
<p>Viele der heute populärsten Webapplikationen der Welt bauen auf einem simplen Datenmodell auf. Betrachten wir etwa soziale Medien, wie z.B. Instagram, sehen wir, dass deren Kernfunktionalität - das Verfolgen von anderen Personen und das Verfassen von Posts - mit nur wenigen Tabellen in einem relationalen Datenbanksystem abbgebildet werden kann.</p>
<div class="mermaid">erDiagram
    user {
        user_id int pk
        username varchar(50)
    }

    post {
        post_id int pk
        content varchar(max)
        post_date timestamp
        user_id int fk
    }

    followership {
        followee_user_id int pk, fk
        follower_user_id int pk, fk
    }

    user ||--o{ post : creates
    user ||--o{ followership : follows
    user ||--o{ followership : is_followed
</div>
<p>Posts können im System gespeichert werden, indem ein neuer Datensatz in der <code>post</code>-Tabelle angelegt wird. Die Verbindung zum erfassenden Nutzer wird über den Fremdschlüssel <code>user_id</code> in der <code>post</code>-Relation hergestellt. </p>
<p>Wenn ein beliebiger Nutzer (z. B. der/die Nutzer:in mit der Identifikationsnummer 1234) jene Posts abfragen will, die von anderen Nutzer:innen verfasst wurden, denen er/sie folgt, kann das im vorliegenden, relationalen Datenmodell einfach abgebildet werden. Dazu werden in der Datenbank die Tabellen <code>post</code> und <code>followership</code> gemeinsam abgefragt. Das könnte z. B. wie unterhalb dargestellt erfolgen.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">content</span>
<span class="k">from</span><span class="w"> </span><span class="n">followership</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">f</span>
<span class="k">join</span><span class="w"> </span><span class="n">post</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">user_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">followee_user_id</span>
<span class="k">where</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">follower_user_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1234</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Um diese Abfrage zu bedienen, erstellt die Datenbank ein Kreuzprodukt der Inhalte der Tabellen <code>followership</code> und <code>post</code>. Hierbei wird jeder Datensatz der Tabelle <code>followership</code> mit jedem Datensatz der Tabelle <code>post</code> kombiniert. Je größer beide Tabellen sind, umso größer ist die Ergebnismenge dieser Operation und desto aufwendiger wird diese für das Datenbanksystem und desto länger muss die Nutzer:in auf das Ergebnis der Abfrage warten.</p>
<p>Berücksichtigt man diesen Umstand, könnte der Eindruck entstehen, dass es unklug ist, die Daten auf eine <code>user</code> und eine <code>followership</code>-Tabelle zu verteilen. Dieses Urteil würde aber nicht allen Zielen der Datenspeicherung gerecht. Verfolgt man das Ziel, redundante Daten zu vermeiden, ist die verteilte Speicherung vorteilhaft. Sie ist eine Folge des Prozess der Normalisierung und gilt im Kontext der relationalen Datenbanksysteme als eines der zentralen Ziele der Datenspeicherung. Doch auch wenn das Ziel der Redundanzfreiheit in vielen Situationen sinnvoll erscheint, ist es nicht das einzige Ziel, dass in der Modellierung und Speicherung von Daten verfolgt werden kann.</p>
<p>Führen wir uns noch einmal das oben beschriebene Social-Media-Szenario vor Augen, können wir uns vorstellen, dass das gezeigte relationale Datenmodell bei niedrigen Nutzerzahlen (i. e. wenige Einträge in der <code>followership</code>-Tabelle) und geringer Nutzung (i. e. wenige Veränderungen in der <code>post</code>-Tabelle) gut funktionieren kann. In diesem Fall kann es sinnvoll sein, Redundanzfreiheit als oberstes Ziel in der Datenmodellierung und Datenspeicherung zu verfolgen. Wenn aber Nutzerzahlen und Nutzung steigen können andere Ziele in den Vordergrund rücken - z. B. die Geschwindigkeit, mit der Abfragen bearbeitet werden können.</p>
<p>Um die Abfragegeschwindigkeit zu verbessern, gibt es unterschiedliche Strategien. Zum einen kann die Performanz des Datenbanksystems gesteigert werden, indem das System vertikal oder horizontal skaliert wird. Dadurch werden dem System mehr Hardware-Ressourcen zur Verfügung gestellt, wodurch das System Abfragen schneller bearbeiten kann. Diese Strategie kann bis zu einem gewissen Punkt zielführend sein, hat aber ihre Grenzen. Alternativ dazu kann das logische Modell der Daten verändert werden, z. B. indem Daten, die gemeinsam Abgefragt werden sollen auch gemeinsam gespeichert werden. Dazu muss die Datenstruktur allerdings denormalisiert werden.</p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Im vorliegenden Beispiel könnte etwa die Speicherung der Posts von einem zentralen <code>post</code>-Speicher in Nutzer:innen-zentrierte <code>post</code>-Speicher überführt werden. In jedem dieser dezentralen Speicher würden dann nur jene Posts gespeichert, die von Nutzer:innen verfasst wurden, denen der/die jeweilige Nutzer folgt (die also für den jeweilige(n) Nutzer:in relevant sind).</p>
<h1 id="flowchart-lr-id0auser-12-generates-p1-p3-p5-id0buser-24-p2-p4-p6-id1user-1234-receives-p1-p2-p3-p4-p5-p6-followed-users-12-24-id2user-3201-receives-p1-p3-p5-followed-users-12-id0a-id1-id0a-id2-id0b-id1"><div class="mermaid">flowchart LR
    id0a["`**User 12 generates:**
        P1, P3, P5`"]
    id0b["`**User 24:**
        P2, P4, P6`"]
    id1[("`**User 1234 receives:**
        P1, P2, P3, P4, P5, P6
        (followed Users: 12, 24)`")]
    id2[("`**User 3201 receives:**
        P1, P3, P5
        (followed Users: 12)`")]

    id0a --&gt; id1
    id0a --&gt; id2
    id0b --&gt; id1
</div></h1>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>de69b4cf2701fc5d8b0904ce79ee6af093a15d96</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2024 Michael Kohlegger
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/mckoh" rel="noopener" target="_blank" title="Michael Kohlegger on Github">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-progress" data-md-component="progress" role="progressbar"></div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "content.code.copy", "navigation.sections", "navigation.path", "navigation.footer", "toc.integrate", "navigation.top"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>